// Code generated by github.com/vedranvuk/cmdline DO NOT EDIT.

package {{.PackageName}}

import (
	"os"
	{{range $path, $name := .ImportMap}}
	{{if eq $name ""}}"{{print $path}}"{{else}}{{print $name}} "{{print $path}}"{{end}}{{end}}
)

var ({{range .Commands}}
	{{.Name}}Var = new({{.Signature}}){{end}}
)

var ({{range $command := .Commands}}
	{{$command.Name}}Cmd = &cmdline.Command{
		Name: "{{.Name}}",
		Help: "{{.Help}}",
		Options: []cmdline.Option{ {{range $command.Options}}
			&{{.Signature}}{
				LongName: "{{.LongName}}",
				ShortName: "{{.ShortName}}",
				Help: "{{.Help}}",
				MappedValue: &{{$command.Name}}Var.{{.LongName}},
			},{{end}}
		},
		Handler: cmdline.NopHandler,
	}{{end}}
)

// parseCmdLine parses the command line into defined commands.
func cmdlineConfig() *cmdline.Config {

	var config = &cmdline.Config{
		Arguments: os.Args[1:],
		Commands: cmdline.Commands{
			OptionsCmd,
			ConfigCmd,
		},
	}

	config.Commands.Register(			
		&cmdline.Command{
			Name: "help",
			Help: "Shows help.",
			Handler: func(c cmdline.Context) error {
				cmdline.PrintConfig(os.Stdout, config)
				return nil
			},
		},
	)

	return config
}


